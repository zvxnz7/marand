<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#12081f">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Noteo</title>
  <link rel="icon" type="image/png" href="/favicon.png">

  <style>
    :root{
      --top: 58px;
      --glass: rgba(0,0,0,.42);
      --border: rgba(255,255,255,.12);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);
      --btn: rgba(255,255,255,.09);
      --btnHover: rgba(255,255,255,.13);
      --accentA: #7e00fe;
      --accentB: #6201c2;
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      overflow:hidden;

      /* purple gradient */
      background: linear-gradient(110deg, #c33764 0%, #1d2671 55%, #3b0764 100%);
    }

    /* --- Liquid background blobs --- */
    .bg{ position:fixed; inset:0; pointer-events:none; z-index:0; }
    .blob{
      position:absolute;
      width: 60vmax;
      height: 60vmax;
      border-radius: 999px;
      filter: blur(55px);
      opacity: .55;
      transform: translateZ(0);
      animation: float 10s ease-in-out infinite;
    }
    .b1{ left:-22vmax; top:-24vmax; background: radial-gradient(circle at 30% 30%, #ff8bd6, #7c3aed 55%, transparent 72%); }
    .b2{ right:-26vmax; top: 6vmax; background: radial-gradient(circle at 30% 30%, #60a5fa, #a855f7 55%, transparent 72%); animation-delay:-2.5s; }
    .b3{ left: 10vmax; bottom:-28vmax; background: radial-gradient(circle at 30% 30%, #fb7185, #4f46e5 55%, transparent 72%); animation-delay:-5s; }

    @keyframes float{
      0%,100%{ transform: translate(0,0) scale(1); }
      50%{ transform: translate(2.2vmax,-1.8vmax) scale(1.03); }
    }

    .noise{
      position:absolute; inset:0;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
      opacity:.10;
      mix-blend-mode: overlay;
    }
    .vignette{
      position:absolute; inset:-2px;
      background: radial-gradient(circle at 50% 40%, rgba(0,0,0,0) 35%, rgba(0,0,0,.50) 90%);
    }

    /* --- Topbar --- */
    .topbar{
      position:fixed; top:0; left:0; right:0;
      height: var(--top);
      padding: 10px 12px;
      padding-top: calc(10px + env(safe-area-inset-top));
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      z-index:10;
    }

    /* --- Glass shell --- */
    .glass{
      background: var(--glass);
      border: 1px solid var(--border);
      backdrop-filter: blur(14px) saturate(120%);
      -webkit-backdrop-filter: blur(14px) saturate(120%);
      box-shadow: 0 20px 60px rgba(0,0,0,.28);
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: var(--btn);
      color: var(--text);
      text-decoration:none;
      cursor:pointer;
      user-select:none;
      font: inherit;
      transition: transform .12s ease, filter .12s ease, background .12s ease, opacity .12s ease;
      white-space:nowrap;
    }
    .btn:hover{ background: var(--btnHover); filter: brightness(1.06); }
    .btn:active{ transform: translateY(1px) scale(.99); }

    .btnPrimary{
      width:100%;
      padding: 16px 16px;
      border-radius: 16px;
      font-size: 18px;
      border: 1px solid rgba(255,255,255,.10);
      background: linear-gradient(to top, var(--accentB), var(--accentA));
      box-shadow: 0 18px 50px rgba(0,0,0,.22);
    }

    /* --- Main --- */
    .wrap{
      position:relative;
      z-index:1;
      height:100%;
      display:flex;
      flex-direction:column;
    }

    .center{
      flex:1;
      display:flex;
      align-items:center;
      justify-content:center;
      padding-top: var(--top);
    }

    .card{
      width: min(560px, calc(100% - 28px));
      margin-top: 42px; /* offset downwards */
      border-radius: 24px;
      padding: 20px;
      position:relative;
      overflow:hidden;
    }

    /* liquid sheen */
    .card::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(120% 80% at 20% 10%, rgba(255,255,255,.18), transparent 55%),
        radial-gradient(100% 70% at 80% 30%, rgba(168,85,247,.25), transparent 60%),
        linear-gradient(135deg, rgba(255,255,255,.10), rgba(255,255,255,0));
      opacity:.95;
      pointer-events:none;
    }

    .brand{
      display:flex;
      gap:12px;
      align-items:center;
      margin-bottom: 14px;
      position:relative;
      z-index:1;
    }
    .orb{
      width: 14px; height:14px;
      border-radius:999px;
      background: rgba(255,255,255,.9);
      box-shadow: 0 0 26px rgba(255,255,255,.25);
    }
    h1{ margin:0; font-size:22px; letter-spacing:.8px; }
    .sub{ margin:2px 0 0 0; opacity:.82; font-size:13px; }

    .hint{
      margin: 12px 2px 0 2px;
      opacity:.86;
      font-size: 13px;
      line-height: 1.35;
      position:relative;
      z-index:1;
    }

    .row{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      margin-top: 12px;
      position:relative;
      z-index:1;
      flex-wrap:wrap;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.07);
      font-size: 12px;
      opacity:.92;
    }

    .kbd{
      padding: 2px 8px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.25);
      font-size: 12px;
      opacity:.95;
    }

    .footer{
      padding: 10px 14px;
      padding-bottom: calc(10px + env(safe-area-inset-bottom));
      text-align:center;
      font-size: 12px;
      opacity:.72;
      position:relative;
      z-index:1;
    }

    @media (max-width: 520px){
      .row{ justify-content:flex-start; }
    }
  </style>
</head>

<body>
  <div class="bg">
    <div class="blob b1"></div>
    <div class="blob b2"></div>
    <div class="blob b3"></div>
    <div class="noise"></div>
    <div class="vignette"></div>
  </div>

  <div class="wrap">
    <div class="topbar glass">
      <a class="btn" href="https://github.com/zvxnz7/marand" target="_blank" rel="noreferrer">
        <b>GitHub</b> <span style="opacity:.8">↗</span>
      </a>

      <button class="btn" id="fsBtn" type="button">
        <b>Fullscreen</b> <span style="opacity:.8">⛶</span>
      </button>
    </div>

    <main class="center">
      <section class="card glass">
        <div class="brand">
          <div class="orb"></div>
          <div>
            <h1>ZVNOTES</h1>
            <div class="sub">Open the board and start working</div>
          </div>
        </div>

        <button class="btn btnPrimary" id="startBtn" type="button">
          <b>Start</b> <span style="opacity:.9">→</span>
        </button>

        <div class="row">
          <span class="pill">Enter: <span class="kbd">Start</span></span>
          <span class="pill">F: <span class="kbd">Fullscreen</span></span>
          <span class="pill" id="addrPill" title="This device address">
            <span style="opacity:.8">LAN:</span> <b id="addr">loading…</b>
            <button class="btn" id="copyBtn" style="padding:8px 10px; border-radius:12px; font-size:12px;">Copy</button>
          </span>
        </div>

        <p class="hint" id="status">
          If you can open this page, your server is running. Click Start to open <b>/notes.html</b>.
        </p>
      </section>
    </main>

    <footer class="footer">
      No accounts · local network tool
    </footer>
  </div>

  <script>
    const startBtn = document.getElementById("startBtn");
    const fsBtn = document.getElementById("fsBtn");
    const statusEl = document.getElementById("status");
    const addrEl = document.getElementById("addr");
    const copyBtn = document.getElementById("copyBtn");

    function setStatus(html){ statusEl.innerHTML = html; }

    // Start -> your existing app page
    function go(){
      // use absolute path so it works from any route
      window.location.href = "/notes.html";
    }
    startBtn.addEventListener("click", go);
    document.addEventListener("keydown", (e) => {
      if (e.key === "Enter") go();
    });

    // Fullscreen
    async function toggleFullscreen(){
      try{
        if(!document.fullscreenElement){
          await document.documentElement.requestFullscreen();
          setStatus('Fullscreen enabled. Press <b>Esc</b> to exit. Click Start to open <b>/notes.html</b>.');
        } else {
          await document.exitFullscreen();
          setStatus('Fullscreen disabled. Click Start to open <b>/notes.html</b>.');
        }
      }catch(e){
        setStatus('Fullscreen blocked by browser. Click Start to open <b>/notes.html</b>.');
      }
    }
    fsBtn.addEventListener("click", toggleFullscreen);
    document.addEventListener("keydown", (e) => {
      if (e.key === "f" || e.key === "F") toggleFullscreen();
    });

    // Show LAN address automatically (best-effort)
    const origin = window.location.origin;
    addrEl.textContent = origin.replace(/^https?:\/\//, "");
    copyBtn.addEventListener("click", async () => {
      try{
        await navigator.clipboard.writeText(origin + "/notes.html");
        copyBtn.textContent = "Copied!";
        setTimeout(() => copyBtn.textContent = "Copy", 900);
      }catch{
        copyBtn.textContent = "Nope";
        setTimeout(() => copyBtn.textContent = "Copy", 900);
      }
    });
  </script>
</body>
</html>
