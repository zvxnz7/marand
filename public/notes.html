<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#111111">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Noteo - Marand</title>
  <link rel="icon" type="image/png" href="/favicon.png">
  <link rel="stylesheet" href="/styles.css">
</head>

<body>
  <div class="topbar" id="topbar">
    <button id="addBtn" class="btn primary">+ Dodaj</button>

    <select id="viewSel" class="viewSelect">
      <option value="magazyn">Magazyn</option>
      <option value="biuro">Biuro</option>
    </select>

    <input id="searchBox" type="text" placeholder="ðŸ”Ž Szukaj (klient, dzianina, kolor, kurierâ€¦)" />

    <select id="statusFilter" class="viewSelect" title="Filtr statusu">
      <option value="all">Wszystkie</option>
      <option value="todo">Tylko niezrobione</option>
      <option value="done">Tylko zrobione</option>
    </select>

    <button id="trashBtn" class="btn">Kosz: OFF</button>
    <button id="emptyTrashBtn" class="btn danger" style="display:none;">OprÃ³Å¼nij kosz</button>

    <span class="muted">
      <span id="dot" class="statusDot offline"></span>
      <span id="status">Å‚Ä…czenieâ€¦</span>
    </span>

    <button id="zoomOutBtn" class="btn">âˆ’</button>
    <button id="zoomInBtn" class="btn">+</button>
    <button id="centerBtn" class="btn">Center</button>

    <button id="archiveBtn" class="btn">Archiwum: OFF</button>
    <button id="fsBtn" class="btn">PeÅ‚ny Ekran</button>

    <button id="chatBtn" class="btn">
      Chat <span id="chatBadge" class="chatBadge">0</span>
    </button>
  </div>

  <div id="viewport">
    <div id="world"></div>
  </div>

  <div id="edgeIndicators"></div>

  <div id="officePanel">
    <div class="officeHeader">
      <b style="flex:1">Biuro â€” lista</b>
      <span id="officeCount" class="officeCount"></span>
    </div>
    <div id="officeList"></div>
  </div>

  <!-- Modal -->
  <div id="backdrop" class="modalBackdrop">
    <div class="modal">
      <h2 id="modalTitle">Dodaj notatkÄ™</h2>

      <div class="field">
        <label>Klient</label>
        <input id="f_klient" type="text" placeholder="np. Firma XYZ" />
      </div>

      <div class="checkline">
        <input id="f_przedplata" type="checkbox" />
        <label for="f_przedplata" style="margin:0; cursor:pointer;">Czy przedpÅ‚ata?</label>
      </div>

      <div class="field">
        <label>Pozycje (Dzianina / Kolor / IloÅ›Ä‡ / Wydano / zrobione)</label>
        <div id="items"></div>
        <button id="addItemBtn" class="btn" type="button" style="margin-top:10px;">+ Dodaj pozycjÄ™</button>
      </div>

      <div class="formRow3">
        <div class="field">
          <label>Kurier</label>
          <input id="f_kurier" type="text" placeholder="np. DPD / InPost / Raben" />
        </div>
        <div class="field">
          <label>Waga przesyÅ‚ki</label>
          <input id="f_waga" type="text" placeholder="np. 18.4 kg" />
        </div>
        <div class="field">
          <label>Termin</label>
          <input id="f_due" type="date" />
        </div>
      </div>

      <div class="field">
        <label>Dodatkowe informacje</label>
        <input id="f_info" type="text" placeholder="opcjonalnie" />
      </div>

      <div class="checkline">
        <input id="f_done" type="checkbox" />
        <label for="f_done" style="margin:0; cursor:pointer;">Zrobione?</label>
      </div>

      <div class="checkline">
        <input id="f_faktura" type="checkbox" />
        <label for="f_faktura" style="margin:0; cursor:pointer;">Faktura</label>
      </div>

      <div class="modalActions">
        <button id="cancelBtn" class="btn">Anuluj</button>
        <button id="deleteBtn" class="btn danger" style="display:none;">UsuÅ„</button>
        <button id="saveBtn" class="btn primary">Zapisz</button>
      </div>
    </div>
  </div>

  <!-- Chat panel -->
  <div id="chatPanel" class="chatPanel">
    <div class="chatHeader">
      <b style="flex:1">Chat</b>
      <button id="chatCloseBtn" class="btn">âœ•</button>
    </div>

    <div id="chatMsgs" class="chatMsgs"></div>

    <div class="chatInputRow">
      <input id="chatName" type="text" placeholder="Twoje imiÄ™ (opcjonalnie)" class="chatName">
      <input id="chatText" type="text" placeholder="WiadomoÅ›Ä‡â€¦" class="chatText">
      <button id="chatSendBtn" class="btn primary">Send</button>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script type="module" src="/js/main.js"></script>
  <script src="/fullscreen.js"></script>
</body>
</html>
